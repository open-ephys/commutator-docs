

<!DOCTYPE html>


<html lang="en" data-theme="light">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Developer Guide &#8212; Open Ephys Documentation 0.0.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=12da95d707ffb74b382d" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=12da95d707ffb74b382d" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/copyURLToClipboard.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'coax-commutator/developer-guide/index';</script>
    <link rel="icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Mechanical" href="mechanical.html" />
    <link rel="prev" title="Troubleshooting" href="../user-guide/troubleshooting.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="light">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
    
    
    
    <img src="../../_static/oe_logo_name.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../../_static/oe_logo_name.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Coax Commutator
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../spi-commutator/index.html">
                        SPI Commutator
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://open-ephys.org">
                    Open Ephys
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys/commutator-docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/openephys" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/WXAx2URNQU" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        Coax Commutator
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../../spi-commutator/index.html">
                        SPI Commutator
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://open-ephys.org">
                    Open Ephys
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/open-ephys/commutator-docs" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/openephys" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://discord.gg/WXAx2URNQU" title="Discord" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item"><nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start-guide/index.html">Quick Start Guide</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../user-guide/index.html">User Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../user-guide/mount-connect.html">Mounting and Connecting the Commutator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-guide/status-led.html">Commutator Status and LED Feedback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-guide/manual-control.html">Manual Control</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../user-guide/automatic-control/index.html">Automatic Control</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../user-guide/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="current reference internal" href="#">Developer Guide</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="mechanical.html">Mechanical</a></li>
</ul>
</li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">Coax Commutator</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Developer Guide</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="developer-guide">
<h1>Developer Guide<a class="headerlink" href="#developer-guide" title="Permalink to this heading">#</a></h1>
<section id="open-source-designs">
<h2>Open Source Designs<a class="headerlink" href="#open-source-designs" title="Permalink to this heading">#</a></h2>
<p>The designs for the commutators are open-source. Accordingly, all of the files relevant to manufacturing the commutator are
available in this <a class="reference external" href="https://github.com/open-ephys/onix-commutator">public Open Ephys Github repo</a>. The downloads are
also available below:</p>
</section>
<section id="bill-of-materials-bom">
<h2>Bill of Materials (BoM)<a class="headerlink" href="#bill-of-materials-bom" title="Permalink to this heading">#</a></h2>
<p>This BoM contains links to specific vendors solely to calculate a total price. open ephys is not affiliated, and there
are other places to get these parts. This BoM was created using prices on March 2nd, 2023.</p>
<p>Prices depend on where you decide to manufacture these parts. More on that below.</p>
</section>
<section id="diy">
<h2>DIY<a class="headerlink" href="#diy" title="Permalink to this heading">#</a></h2>
<p>The following sections describes design considerations</p>
<section id="mechanical">
<h3>Mechanical<a class="headerlink" href="#mechanical" title="Permalink to this heading">#</a></h3>
</section>
<section id="electrical">
<h3>Electrical<a class="headerlink" href="#electrical" title="Permalink to this heading">#</a></h3>
</section>
<section id="computational">
<h3>Computational<a class="headerlink" href="#computational" title="Permalink to this heading">#</a></h3>
</section>
</section>
<section id="manufacturing">
<h2>Manufacturing<a class="headerlink" href="#manufacturing" title="Permalink to this heading">#</a></h2>
<p>The following sections describe how to manufacture the parts that are custom</p>
<p>This should probably be on its own page so that we can refer people to it from multiple products’ documentations instead
of each products’ documentation containing its own manufacturing tips</p>
<section id="id1">
<h3>Mechanical<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>If you desire low quantity, first seek out local options. Many universities or libraries offer free 3D printing
services. They don’t always have SLS/MJF like which is how the commutator enclosures were manufactured, but you can probably design a
new enclosure that makes use of FDM or SLA 3D printing if necessary. The biggest difference is that you will need to design
supports to assist in the printing process in an MCAD software such as Solidworks, Fusion360, or FreeCAD. If you don’t have access to a SLS/MJF printer and don’t want to design other
enclosures, there are many online manufacturers that will 3D print this for you. They cost more and often have a minimum
price to purchase (i.e. 3DHubs has a $90 minimum for those services at the time of writing this) which is not ideal if
you are trying to print a low quantity of pieces. Other popular ones include Formlabs, etc. etc.</p>
</section>
<section id="id2">
<h3>Electrical<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h3>
<p>PCBs are pretty cheap. You no longer have to order in bulk to get them relatively cheap. For instance,
You can get a 5-pack of PCBs from JLCPCB for less than $10.</p>
</section>
<section id="general-tips">
<h3>General Tips<a class="headerlink" href="#general-tips" title="Permalink to this heading">#</a></h3>
<p>If you foresee being able to use multiple of these pieces, you benefit from ordering many for a cheaper price per piece.
If you do not foresee that, you can still benefit from economies of scale while saving yourself (or a poor overworked
undergrad/lab manager) from the labor of purchasing and assembling several parts from several vendors as well as the
dread of lead times by purchasing from us. And you get to support <a class="reference external" href="https://open-ephys.org/about-us-overview">open ephys</a> :D</p>
</section>
</section>
<section id="teensy">
<h2>Teensy<a class="headerlink" href="#teensy" title="Permalink to this heading">#</a></h2>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>insert photo of teensy. unnecessary, but why not? Any other photos on this page?</p>
</div>
<p>The Teensy is a microcontroller development board (much like the Arduino for those who are familiar). It is the brains
of the commutator. To control the commutator via computer, it helps to learn to interface with the Teensy. To do that:</p>
<ol class="arabic simple">
<li><p>Download the <a class="reference external" href="https://www.arduino.cc/en/software">Arduino IDE</a></p></li>
<li><p>Install the Arduino IDE’s Teensy plugin, <a class="reference external" href="https://www.pjrc.com/teensy/td_download.html">Teensyduino</a></p></li>
<li><p>Install relevant <a class="reference external" href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-installing-a-library">Arduino libraries</a>: <em>AccelStepper</em> and <em>Arduino JSON</em></p></li>
<li><p>Open the <a class="reference external" href="https://docs.arduino.cc/software/ide-v2/tutorials/ide-v2-serial-monitor">Arduino IDE’s serial monitor</a></p></li>
<li><p>Set correct COM port to which the Teensy is connected and set the serial monitor baud rate to 9600</p></li>
<li><p>Send a command to the commutator according to the communication below.</p></li>
</ol>
<p>The serial monitor displays messages between the commutator and the computer to which the commutator is connected. Other serial
monitors can be used (see <a class="reference external" href="https://www.compuphase.com/software_termite.htm">Termite</a> for instance), but these
instructions recommend the Arduino IDE because the Arduino IDE is already quite common and allows the user to program
the Teensy in a convenient way if that is desired. Out-of-the-box, the commutator’s Teensy is pre-programmed to receive
messages from the user through serial communication. To communicate with the commutator using the serial monitor, refer
to the following communication protocol.</p>
</section>
<section id="communication-protocol-json">
<h2>Communication Protocol (JSON)<a class="headerlink" href="#communication-protocol-json" title="Permalink to this heading">#</a></h2>
<p>The commutator communicates with a computer through the serial monitor using JavaScript Object Notation (JSON). For the
purpose of interfacing with the commutator, JSON is a human-readable notation used to specify a property and assign a value to
or read the value of that corresponding property. The notation is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nb">property</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span>
</pre></div>
</div>
<p>The commutator has five properties/commands:
<em>enable</em>, <em>led</em>, <em>speed</em>, <em>turn</em>, and <em>read</em>. The set of acceptable values depends on the property to which the value is being
assigned. This is how to use JSON to communicate with the commutator:</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The commutator rejects JSON commands while manual controls are in use</p>
</div>
<section id="json-commands">
<h3>JSON Commands<a class="headerlink" href="#json-commands" title="Permalink to this heading">#</a></h3>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>reformat this</p>
</div>
<section id="enable">
<h4>enable<a class="headerlink" href="#enable" title="Permalink to this heading">#</a></h4>
<p>Acceptable values: <em>false</em>, <em>true</em></p>
<ul class="simple">
<li><p>A <em>true</em> value for this property enables the commutator</p></li>
<li><p>A <em>false</em> value for this property disables the commutator</p></li>
</ul>
<p>The default out-of-the-box value for this property is <em>false</em></p>
</section>
<section id="led">
<h4>led<a class="headerlink" href="#led" title="Permalink to this heading">#</a></h4>
<p>Acceptable values: <em>false</em>, <em>true</em></p>
<ul class="simple">
<li><p>A <em>true</em> value for this property enables the LED function</p></li>
<li><p>A <em>false</em> value for this property disables the LED function</p></li>
</ul>
<p>The default out-of-the-box value for this property is <em>true</em></p>
</section>
<section id="speed">
<h4>speed<a class="headerlink" href="#speed" title="Permalink to this heading">#</a></h4>
<p>Acceptable values: (<em>0</em>, <em>500</em>]</p>
<ul class="simple">
<li><p>The value for this property sets the rotational speed of the commutator in units of RPM</p></li>
</ul>
<p>The default out-of-the-box value for this property is <em>50</em></p>
</section>
<section id="turn">
<h4>turn<a class="headerlink" href="#turn" title="Permalink to this heading">#</a></h4>
<p>Acceptable values: [<em>-255?</em>, <em>255?</em>]</p>
<ul class="simple">
<li><p>The value for this property sets the rotational speed of the commutator in units of RPM</p></li>
</ul>
<p>There is no default out-of-the-box value for this property</p>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>what is the set of acceptable values?</p>
</div>
</section>
<section id="print">
<h4>print<a class="headerlink" href="#print" title="Permalink to this heading">#</a></h4>
<p>Acceptable values: n/a</p>
<ul class="simple">
<li><p>Leave the value field empty. The commutator prints out the internal state of the commutator to the user in the serial interface</p></li>
</ul>
<p>There is no default out-of-the-box value for this property</p>
</section>
<section id="compound-json-command">
<h4>Compound JSON Command<a class="headerlink" href="#compound-json-command" title="Permalink to this heading">#</a></h4>
<p>Multiple commands can be sent in a compound JSON message in the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">property1</span><span class="p">:</span> <span class="n">value1</span><span class="p">,</span> <span class="n">property2</span><span class="p">:</span> <span class="n">value2</span><span class="p">,</span> <span class="n">property3</span><span class="p">:</span> <span class="n">value3</span><span class="p">}</span>
</pre></div>
</div>
<p>The order of properties does not matter.</p>
</section>
</section>
</section>
<section id="json-command-examples">
<h2>JSON Command Examples<a class="headerlink" href="#json-command-examples" title="Permalink to this heading">#</a></h2>
<p>Enable the commutator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">enable</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
</pre></div>
</div>
<p>Disable the commutator’s LED function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">led</span><span class="p">:</span> <span class="n">false</span><span class="p">}</span>
</pre></div>
</div>
<p>Set the commutator’s rotational speed to 250 RPM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">speed</span><span class="p">:</span> <span class="mi">250</span><span class="p">}</span>
</pre></div>
</div>
<p>Turn the commutator’s 1.1 revolutions CW:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">turn</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">}</span>
</pre></div>
</div>
<p>Turn the commutator’s 2.3 revolutions CCW:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">turn</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.3</span><span class="p">}</span>
</pre></div>
</div>
<p>Disable LED feedback function, set speed to 25 RPM, and turn the commutator 1.1 revolutions clockwise all in one message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">led</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="n">speed</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="n">turn</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.1</span><span class="p">}</span>
</pre></div>
</div>
<p>Query the status of the commutator’s internal parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nb">print</span><span class="p">:}</span>
</pre></div>
</div>
</section>
<section id="bonsai-integration">
<h2>Bonsai Integration<a class="headerlink" href="#bonsai-integration" title="Permalink to this heading">#</a></h2>
<p><a class="reference external" href="https://open-ephys.org/bonsai">Bonsai</a> is open-source software for processing asynchronous, heterogeneous streams of
data. In our case, it can be used to coordinate orientation data (from an IMU sensor or camera sensor for instance) to
provide feedback to commutator and automate the commutation process. To learn more about how to use Bonsai, explore the
<a class="reference external" href="https://bonsai-rx.org/">bonsai-rx.org</a> website. It’s recommended because it’s quite nice and compatible with many
open ephys products. It is used in many of the following guides for controlling and automating the commutator.</p>
<ul class="simple">
<li><p>Enable/disable the commutator</p></li>
<li><p>Command the commutator to rotate</p></li>
<li><p>Change the speed of commutator’s speed of rotation</p></li>
<li><p>Toggle the LED Feedback function</p></li>
<li><p>Query the commutator’s current settings</p></li>
</ul>
</section>
<section id="assembly">
<h2>Assembly<a class="headerlink" href="#assembly" title="Permalink to this heading">#</a></h2>
<div class="toctree-wrapper compound">
</div>
</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../user-guide/troubleshooting.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Troubleshooting</p>
      </div>
    </a>
    <a class="right-next"
       href="mechanical.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Mechanical</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#open-source-designs">Open Source Designs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bill-of-materials-bom">Bill of Materials (BoM)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diy">DIY</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mechanical">Mechanical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#electrical">Electrical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computational">Computational</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#manufacturing">Manufacturing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Mechanical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Electrical</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#general-tips">General Tips</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#teensy">Teensy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#communication-protocol-json">Communication Protocol (JSON)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#json-commands">JSON Commands</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#enable">enable</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#led">led</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#speed">speed</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#turn">turn</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#print">print</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#compound-json-command">Compound JSON Command</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#json-command-examples">JSON Command Examples</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonsai-integration">Bonsai Integration</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#assembly">Assembly</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="../../_sources/coax-commutator/developer-guide/index.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            <div class="bd-footer-content__inner"></div>
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=12da95d707ffb74b382d"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=12da95d707ffb74b382d"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2010-2023, Open Ephys &amp; Contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 6.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
  <p class="copyright">
    
      © Copyright 2010-2023, Open Ephys &amp; Contributors.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://sphinx-doc.org/">Sphinx</a> 6.1.3.
    <br/>
  </p>
</div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>
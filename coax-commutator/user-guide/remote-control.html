
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Remote Control &#8212; Open Ephys Documentation 0.0.0 documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/copyURLToClipboard.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Saving Settings" href="saving-settings.html" />
    <link rel="prev" title="Manual Control" href="manual-control.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/oe_logo_name.png" class="logo" alt="logo">
</a>


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../index.html">
  Coax Commutator
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../../spi-commutator/index.html">
  SPI Commutator
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://open-ephys.org">Open Ephys<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/open-ephys/commutator-docs" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/openephys" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discord.gg/WXAx2URNQU" rel="noopener" target="_blank" title="Discord"><span><i class="fab fa-discord"></i></span>
            <label class="sr-only">Discord</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../quick-start-guide/index.html">
   Quick Start
  </a>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   User Guide
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="mount-connect.html">
     Mounting and Connecting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="status-led.html">
     Status LED
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="manual-control.html">
     Manual Control
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Remote Control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="saving-settings.html">
     Saving Settings
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="automatic-control/index.html">
     Automating Commutation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-control/onix-coaxheadstage64.html">
       ONIX and Coaxial Headstage-64
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-control/onix-miniscopev4.html">
       ONIX and UCLA Miniscope v4
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-control/onix-computervision.html">
       ONIX and Computer Vision
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="automatic-control/miniscopedaq-miniscopev4.html">
       Miniscope DAQ and UCLA Miniscope v4
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="troubleshooting.html">
     Troubleshooting
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../developer-guide/index.html">
   Developer Guide
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#json-commands">
   JSON Commands
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compound-json-commands">
   Compound JSON commands
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="remote-control">
<span id="id1"></span><h1>Remote Control<a class="headerlink" href="#remote-control" title="Permalink to this headline">#</a></h1>
<p>The commutator communicates with a computer using <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">JavaScript Object Notation
(JSON)</a> strings sent over the USB cable
using a (<a class="reference external" href="https://en.wikipedia.org/wiki/Virtual_COM_port">virtual</a>) serial
port connection. This allows it to be controlled from any piece of software or
script capable of writing data to a serial port. Virtually every programming
language will have a library for doing this (i.e. the <a class="reference external" href="https://pyserial.readthedocs.io/en/latest/pyserial.html">pySerial</a> Python library).
Additionally, many pieces of software (e.g. Bonsai, Labview, Arduino IDE)
provide the ability to write to a serial port without any programming.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>An easy way to test remote control of the commutator is to to type
commands into the <a class="reference external" href="https://en.wikipedia.org/wiki/JSON">Arduino IDE’s serial monitor</a>.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p><a class="reference internal" href="manual-control.html#manual-control"><span class="std std-ref">Manual control</span></a> takes precedence over
remote commands. The commutator will dispose all  JSON commands that a
received while manual controls are in use.</p>
</div>
<section id="json-commands">
<h2>JSON Commands<a class="headerlink" href="#json-commands" title="Permalink to this headline">#</a></h2>
<p>JSON is a human-readable data interchange format used to specify a property and
assign a value to or read the value of that corresponding property. The
notation is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nb">property</span><span class="p">:</span> <span class="n">value</span><span class="p">}</span>
</pre></div>
</div>
<p>The commutator responds to six JSON properties: <cite>enable</cite>, <cite>led</cite>, <cite>speed</cite>,
<cite>accel</cite>, <cite>turn</cite>, and <cite>print</cite>. The set of acceptable values depends on the
property to which the value is being assigned. Each of these properties is
documented here:</p>
<dl>
<dt>{enable: <em>bool</em>}</dt><dd><p>A boolean value to enable or disable the commutator.</p>
<ul class="simple">
<li><p><em>true</em>: enable the commutator.</p></li>
<li><p><em>false</em> (default): disable the commutator</p></li>
</ul>
<p>For example, to enable the commutator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">enable</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>{led: <em>bool</em>}</dt><dd><p>A boolean value to enable or disable the <a class="reference internal" href="status-led.html#status-led"><span class="std std-ref">status LED</span></a>.</p>
<ul class="simple">
<li><p><em>true</em> (default): Turn on the status LED</p></li>
<li><p><em>false</em>: Turn off the status LED.</p></li>
</ul>
<p>For example, to turn the status LED off:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">led</span><span class="p">:</span> <span class="n">false</span><span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>{speed: <em>float</em>}</dt><dd><p>A floating point value in the range (<em>0</em>, <em>1000</em>] to set the maximum
rotation speed in RPM. The default value is 100 RPM. For example, to set
the maximal rotation speed to 6.28319 RPM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">speed</span><span class="p">:</span> <span class="mf">6.28319</span><span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>{accel: <em>float</em>}</dt><dd><p>A floating point value in the range (<em>0</em>, <em>1000</em>] to set the maximum
rotational acceleration in RPMM. The default value is 200 RPMM. For
example, to set the rotational acceleration to 6.28319 RPMM:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">accel</span><span class="p">:</span> <span class="mf">6.28319</span><span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>{turn: <em>float</em>}</dt><dd><p>A floating point value indicating the number of turns to perform. The sign
indicates the direction of motion. Turn commands are integrated. For
instance, if a second turn command is received before the first completes,
the final position of the commutator will be the sum of both commands. For
example, to turn the commutator clockwise (from some perspective) 1.1
turns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">turn</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">}</span>
</pre></div>
</div>
<p>To turn it back counterclockwise (from the same perspective) by 0.5 turns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">turn</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">}</span>
</pre></div>
</div>
</dd>
<dt>{print:}</dt><dd><p>Return a JSON string containing parameters and motor operational state. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="nb">print</span><span class="p">:}</span>
</pre></div>
</div>
<p>might return</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;led&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="s2">&quot;enable&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;speed&quot;</span><span class="p">:</span> <span class="mf">6.28319</span><span class="p">,</span> <span class="s2">&quot;accel&quot;</span><span class="p">:</span><span class="mf">6.28319</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">42.00</span><span class="p">,</span> <span class="s2">&quot;motor_running&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">}</span>
</pre></div>
</div>
<p>where “target” is the target position of the motor in rotations and
“motor_running” indicates if the motor is currently turning.</p>
</dd>
</dl>
</section>
<section id="compound-json-commands">
<h2>Compound JSON commands<a class="headerlink" href="#compound-json-commands" title="Permalink to this headline">#</a></h2>
<p>Multiple commands can be sent in a compound JSON message in the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">property1</span><span class="p">:</span> <span class="n">value1</span><span class="p">,</span> <span class="n">property2</span><span class="p">:</span> <span class="n">value2</span><span class="p">,</span> <span class="n">property3</span><span class="p">:</span> <span class="n">value3</span><span class="p">}</span>
</pre></div>
</div>
<p>The order of properties does not matter. For instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">led</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="n">speed</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="n">turn</span> <span class="p">:</span> <span class="o">-</span><span class="mf">1.1</span><span class="p">}</span>
</pre></div>
</div>
<p>will turn the LED off, set the maximum speed to 25 RPM, and tell the commutator
to turn 1.1 rotations CCW, but the order that these events happen in hardware
is dictated by the firmware.</p>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="manual-control.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Manual Control</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="saving-settings.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Saving Settings</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2010-2023, Open Ephys &amp; Contributors.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>